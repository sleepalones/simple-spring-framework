# 实现简易的 Spring 框架
## 搭建开发环境
- jdk 11
- maven 3.8.4
- 编译 spring 源码（spring-framework-5.2.0.RELEASE）
- idea 2021.2 搭建 javaWeb 环境
## 构建业务系统的架构【自研框架的起源】
- 项目业务梳理
- 项目依赖配置
- Service 层代码架子搭建
- Controller 层代码架子搭建
  - 使用一个 servlet 拦截所有请求，再从请求中获取路径和请求类型找到对应的 Controller 处理
## 从项目开发到框架内开发的转换
- 当前项目存在的问题？
  - 项目扩展性不强，违反开闭原则
  - 尝试引入工厂模式，对扩展开放，对修改关闭
  - 经过尝试发现并不能完全实现对扩展开放，对修改关闭
  - 参考 spring ioc 尝试引入反射
  - 用注解来保存类相关的信息以提供反射调用
  - 使用注解标记需要工厂管理的实例，并依据注解属性做精细控制
  - 不需要再写 if else 来调用 controller，不需要再 new 对象，不再需要关心细节
- 控制反转 Ioc
  - 依托一个类似工厂的 Ioc 容器
  - 将对象的创建、依赖关系的管理以及生命周期交由 Ioc 容器管理
  - 降低系统在实现上的复杂性和耦合度，易于扩展，满足开闭原则
## 自研框架 Ioc 容器的实现
- 创建注解
  - Controller
  - Service
  - Repository
  - Component
- 提取标记对象
  - 指定范围，获取范围内的所有类
  - 遍历所有类，获取被注解标记的类并加载进容器里
- 实现容器
- 依赖注入
